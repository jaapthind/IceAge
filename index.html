<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Google Docs - Project Workspace</title>
    <link id="favicon" rel="icon" type="image/x-icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico">
    
    <style>
        :root {
            --glass-bg: rgba(255, 255, 255, 0.08);
            --border: rgba(255, 255, 255, 0.2);
            --accent: #58a6ff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: #000; height: 100vh; overflow: hidden; display: flex; align-items: center; justify-content: center; }

        /* --- THE MOLTEN ENGINE (METABALLS) --- */
        #liquid-stage {
            position: fixed;
            inset: 0;
            z-index: -1;
            /* The secret to 'Molten' look: Heavy blur + Heavy Contrast + Rainbow Refraction */
            filter: blur(25px) contrast(35) url(#rainbow-refraction);
            background: radial-gradient(circle at center, #111, #000);
        }

        canvas { width: 100%; height: 100%; }

        /* --- UI OVERLAY --- */
        #main-ui {
            display: flex;
            gap: 30px;
            z-index: 10;
            transition: opacity 0.3s;
        }

        .glass-panel {
            background: var(--glass-bg);
            border: 1px solid var(--border);
            backdrop-filter: blur(40px) saturate(150%);
            -webkit-backdrop-filter: blur(40px);
            border-radius: 32px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.6);
            color: white;
            padding: 25px;
        }

        #chat-panel { width: 400px; height: 550px; overflow: hidden; }
        iframe { width: 100%; height: 100%; border: none; opacity: 0.9; border-radius: 12px; }

        /* --- GHOST MODE (GOOGLE REPLICA) --- */
        #ghost-mode {
            display: none;
            position: fixed;
            inset: 0;
            background: #fff;
            z-index: 99999;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .g-search-bar {
            width: 584px; height: 46px; border: 1px solid #dfe1e5;
            border-radius: 24px; padding: 0 20px; display: flex; align-items: center;
            margin-top: 20px; transition: 0.2s;
        }
        .g-search-bar:hover { box-shadow: 0 1px 6px rgba(32,33,36,0.28); }
        .g-input { flex: 1; border: none; outline: none; font-size: 16px; margin-left: 10px; }

        /* --- BOOT SCREEN --- */
        #boot {
            position: fixed; inset: 0; background: #000; z-index: 100000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .boot-btn {
            padding: 15px 40px; background: white; border: none; border-radius: 50px;
            font-weight: 800; cursor: pointer; font-size: 14px;
        }
    </style>
</head>
<body>

    <div id="boot">
        <h1 style="color:white; letter-spacing:8px; margin-bottom:20px;">VISCOUS_LINK_V11</h1>
        <button class="boot-btn" onclick="startApp()">BOOT INTERFACE</button>
    </div>

    <div id="ghost-mode">
        <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png" width="272" alt="Google">
        <div class="g-search-bar">
            <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="#9aa0a6">
                <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
            </svg>
            <input type="text" id="g-search-input" class="g-input" placeholder="Search Google or type a URL" autocomplete="off">
        </div>
        <div style="margin-top: 30px;">
            <button style="padding: 10px 20px; background: #f8f9fa; border: 1px solid #f8f9fa; border-radius: 4px; color: #3c4043; cursor: pointer; margin-right: 10px;">Google Search</button>
            <button style="padding: 10px 20px; background: #f8f9fa; border: 1px solid #f8f9fa; border-radius: 4px; color: #3c4043; cursor: pointer;">I'm Feeling Lucky</button>
        </div>
    </div>

    <svg style="position: absolute; width:0; height:0;">
      <filter id="rainbow-refraction">
        <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="3" seed="10" result="noise" />
        <feDisplacementMap in="SourceGraphic" in2="noise" scale="120" xChannelSelector="R" yChannelSelector="G" result="warped" />
        <feColorMatrix in="warped" type="matrix" values="1.2 0 0 0 0  0 1.1 0 0 0  0 0 1.6 0 0  0 0 0 1 0" />
      </filter>
    </svg>

    <div id="liquid-stage"><canvas id="c"></canvas></div>

    <div id="main-ui">
        <div class="glass-panel" style="width: 280px;">
            <h2 style="font-size: 10px; letter-spacing: 3px; opacity: 0.5;">VISCOSITY_SENSORS</h2>
            <p style="font-size: 12px; margin-top: 15px;">Status: <b style="color: #0f0;">MOLTEN</b></p>
            <p style="font-size: 11px; margin-top: 10px; opacity: 0.6;">Press [ESC] for Stealth Override.</p>
        </div>

        <div class="glass-panel" id="chat-panel">
            <iframe src="https://deadsimplechat.com/J4fFLy4Ek"></iframe>
        </div>
    </div>

<script>
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');
    const ghostMode = document.getElementById('ghost-mode');
    const gInput = document.getElementById('g-search-input');
    const pageTitle = document.getElementById('page-title');
    const favicon = document.getElementById('favicon');

    let blobs = [];
    let isAppStarted = false;

    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.onresize = resize;
    resize();

    async function startApp() {
        // Request Permissions for interactive viscosity
        await navigator.mediaDevices.getUserMedia({ video: true });
        document.getElementById('boot').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('boot').remove();
            isAppStarted = true;
            initPhysics();
        }, 600);
    }

    function initPhysics() {
        for(let i=0; i<12; i++) {
            blobs.push({
                x: Math.random() * canvas.width,
                y: canvas.height + 100,
                vx: (Math.random() - 0.5) * 4,
                vy: -Math.random() * 2 - 1,
                r: 180 + Math.random() * 120
            });
        }
        loop();
    }

    function loop() {
        if(!isAppStarted) return;
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Molten Flow Logic
        blobs.forEach(b => {
            b.x += b.vx;
            b.y += b.vy;

            // Bounce & Pooled Bottom logic
            if(b.y < -b.r) b.y = canvas.height + b.r;
            if(b.x < -b.r) b.x = canvas.width + b.r;
            if(b.x > canvas.width + b.r) b.x = -b.r;

            // Draw viscous blobs (White blobs become molten glass via the SVG filter)
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.beginPath();
            ctx.arc(b.x, b.y, b.r, 0, Math.PI * 2);
            ctx.fill();

            // Reflection Highlights
            ctx.fillStyle = 'rgba(255, 255, 255, 0.4)';
            ctx.beginPath();
            ctx.arc(b.x - b.r/3, b.y - b.r/3, b.r/4, 0, Math.PI * 2);
            ctx.fill();
        });
        requestAnimationFrame(loop);
    }

    // --- ESCAPE KEY LOGIC ---
    document.addEventListener('keydown', (e) => {
        if (e.key === "Escape") {
            const isHidden = ghostMode.style.display === 'none' || ghostMode.style.display === '';
            if (isHidden) {
                ghostMode.style.display = 'flex';
                pageTitle.innerText = "Google";
                favicon.href = "https://www.google.com/favicon.ico";
                gInput.focus();
            } else {
                ghostMode.style.display = 'none';
                pageTitle.innerText = "Google Docs - Project Workspace";
                favicon.href = "https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico";
            }
        }
    });

    // Execute Google Search
    gInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            const query = gInput.value.trim();
            if (query) window.location.href = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
        }
    });
</script>
</body>
</html>
